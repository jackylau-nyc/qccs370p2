<!DOCTYPE html>
<html>
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="stylesheet" href="./css/homestyle.css">
        <!-- navbar -->
        <link rel="stylesheet" href="./css/navbarstyle.css">
        <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    
        <!-- fonts -->
        <link href='https://fonts.googleapis.com/css?family=Dancing Script' rel='stylesheet'>
        <link href='https://fonts.googleapis.com/css?family=Cinzel Decorative' rel='stylesheet'>
        <link href='https://fonts.googleapis.com/css?family=Arapey' rel='stylesheet'>
        <!-- Bootstrap-->
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>

    </head>
    <body onload="hotel_div_generate();">
        <div class="navbar">
            <a href="#home"><input id="currentDate" type="date" value="" onChange="setDate(this.value);"/></a>
            <button class="loginbtn" onclick="document.getElementById('login').style.display='block'">Login</button>
            <div class="dropdown">
          
            <button class="dropbtn" id ="b" onclick="searchFilter()">Search Filter
              <i class="fa fa-caret-down"></i>
            </button>
            <div class="dropdown-content" id="searchFilter">
              <p>Franchise</p>
              <input type="checkbox" name="FirstSelector" value="1">Marriott
              <input type="checkbox" name="FirstSelector" value="2">Hilton
              <input type="checkbox" name="FirstSelector" value="3">Hyatt
              <input type="checkbox" name="FirstSelector" value="4">Wyndham
              <input type="checkbox" name="FirstSelector" value="5">Radisson
              <p>Type of Room</p>
              <input type="checkbox" name="SecondSelector" value="q">Cheap
              <input type="checkbox" name="SecondSelector" value="w">Regular
              <input type="checkbox" name="SecondSelector" value="e">Deluxe
              <p>Price Range Per Night</p>
              <input type="checkbox" name="ThirdSelector" value="z">000-099
              <input type="checkbox" name="ThirdSelector" value="x">100-199
              <input type="checkbox" name="ThirdSelector" value="c">200-299
              <input type="checkbox" name="ThirdSelector" value="v">300-399
              <p></p>
              <input type="checkbox" name="FourthSelector" value="0">Show Available Only
              <p></p>
              <button type="button" id="searchButton">Search</button>
            </div>
            </div> 
        </div>
        <!-- Login Pop Up Modal -->
        <div id="login" class="w3-modal w3-animate-opacity">
          <div class="w3-modal-content" style="padding:16px;">
            <div class="w3-container">
              <i onclick="document.getElementById('login').style.display='none'" class="fa fa-remove w3-xlarge w3-button w3-transparent w3-right w3-large"></i>
              <h2 class="w3-wide">Login</h2>
              <p>Login with your username and password :</p>
              <form method='post' action="">
                <p><input class="w3-input w3-border" type="text" placeholder="Enter Username" required></p>
                <p><input class="w3-input w3-border" type="password" placeholder="Enter Password" required></p>
                <p><input type="submit"></p>
              </form>
            </div>
          </div>
        </div>
        <section class="hotel-modal">   
            <div class="container" id = "id"></div>
        </section>

    </body>
    
    <script type="text/javascript">
        function searchFilter() {
            document.getElementById("searchFilter").classList.toggle("show");
        }
        // Close the dropdown if the user clicks outside of it
        window.onclick = function(e) {
        if (!document.getElementById('searchFilter').contains(e)) {
        var myDropdown = document.getElementById("searchFilter");
            if (myDropdown.classList.contains('show')) {
            myDropdown.classList.remove('show');
            }
        }
        }
        function getData(){
        
        //    fetch( php url )
          //      .then((response) => {
            //        return response.json();
              //  })

        // for testing  only ..
            return [
                    { name: 'hotel name 1', franchise: { name: 'Franchise 1'}, x_coord: [0], y_coord: [0] },
                    { name: 'hotel name 2', franchise: { name: 'Franchise 1'}, x_coord: [0], y_coord: [1] },
                    { name: 'hotel name a', franchise: { name: 'Franchise 2'}, x_coord: [1], y_coord: [0] },
                    { name: 'hotel name b', franchise: { name: 'Franchise 2'}, x_coord: [1], y_coord: [1] },
                ]
        }
        async function hotel_div_generate(){

            var hotelmodal_container = document.getElementById('id');
            var result = await getData();

            result.forEach(function (result) {
                var col_div = document.createElement('div');
                col_div.className = 'col-md-4';
                
                var hotel_div = document.createElement('div');
                hotel_div.classList.add("hotel-div");

                var title = document.createElement('h1');
                var franchise = document.createElement('span');
                franchise.className = 'franchise';
                var hotel = document.createElement('span');
                hotel.className = 'hotel-name';

                // franchise name and hotel name 
                franchise.innerText = `${result.name}`;
                hotel.innerText = `${result.franchise.name}`;
            
                title.appendChild(franchise);
                title.appendChild(hotel);

                // ( i , j ) locations
                var des = document.createElement('p');
                des.className = 'hotel-descript';
                des.innerText = `Location : ${result.x_coord} street , ${result.y_coord} ave`;
            
                // Visit Us button 
                var btn_padding = document.createElement('div');
                btn_padding.className ='button-padding';
                var btn = document.createElement('a');
                btn.className ="button button-text";
                btn.href = "hotelroom.html"
                btn.innerHTML ="Visit Us";
                btn_padding.appendChild(btn);

                col_div.appendChild(hotel_div);
                hotel_div.appendChild(title);
                hotel_div.appendChild(des);
                hotel_div.appendChild(btn_padding);

                hotelmodal_container.appendChild(col_div);
            })
        }
    </script>

</html>